{"ast":null,"code":"import axios from \"axios\";\nimport { apiEndpoint, apiEndpointFunction } from '@iso/lib/helpers/endpoint';\nimport { authHeader } from '@iso/lib/helpers/authHeader';\nexport const propertyService = {\n  getProperties,\n  viewProperty,\n  storeOrUpdateProperties,\n  getListUsersOfProperty,\n  inviteUser,\n  cancelInviteUser\n};\n\nfunction getProperties() {\n  return axios.get(apiEndpoint.properties, {\n    headers: authHeader()\n  }).then(res => {\n    if (res && res.status === 200) {\n      return res.data;\n    }\n\n    return [];\n  });\n}\n\nfunction storeOrUpdateProperties(data, id = null) {\n  return (id ? axios.put(apiEndpointFunction.properties(id), data, {\n    headers: authHeader()\n  }) : axios.post(apiEndpoint.properties, data, {\n    headers: authHeader()\n  })).then(res => {\n    if (res && res.status === 200) {\n      return res.data;\n    }\n\n    return {};\n  });\n}\n\nfunction viewProperty(id) {\n  return axios.get(apiEndpointFunction.properties(id), {\n    headers: authHeader()\n  }).then(res => {\n    if (res && res.status === 200) {\n      return res.data;\n    }\n\n    return {};\n  });\n}\n\nfunction getListUsersOfProperty(propertyId) {\n  return axios.get(`${apiEndpoint.users}?property_id=${propertyId}`, {\n    headers: authHeader()\n  }).then(res => {\n    if (res && res.status === 200) {\n      let users = res.data.users.map(user => {\n        return {\n          id: user.id,\n          name: user.name,\n          email: user.email,\n          mobile_phone: user.mobile_phone,\n          permission: user.more_info.permission,\n          status: user.more_info.status\n        };\n      });\n      return {\n        users: users,\n        code: res.data.code\n      };\n    }\n\n    return {};\n  });\n}\n\nfunction inviteUser(id, data) {\n  return axios.post(`${apiEndpointFunction.properties(id)}/invite`, data, {\n    headers: authHeader()\n  }).then(res => {\n    if (res && res.status === 200) {\n      return res.data;\n    }\n\n    return {};\n  });\n}\n\nfunction cancelInviteUser(id, userId) {\n  return axios.get(`${apiEndpointFunction.properties(id)}/cancel-invite`, {\n    headers: authHeader(),\n    params: {\n      user_id: userId\n    }\n  }).then(res => {\n    if (res && res.status === 200) {\n      return res.data;\n    }\n\n    return {};\n  });\n}","map":{"version":3,"sources":["/home/thiennc/projects/airagri-frontend/src/services/property.service.js"],"names":["axios","apiEndpoint","apiEndpointFunction","authHeader","propertyService","getProperties","viewProperty","storeOrUpdateProperties","getListUsersOfProperty","inviteUser","cancelInviteUser","get","properties","headers","then","res","status","data","id","put","post","propertyId","users","map","user","name","email","mobile_phone","permission","more_info","code","userId","params","user_id"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { apiEndpoint, apiEndpointFunction } from '@iso/lib/helpers/endpoint';\nimport { authHeader } from '@iso/lib/helpers/authHeader';\n\nexport const propertyService = {\n  getProperties,\n  viewProperty,\n  storeOrUpdateProperties,\n  getListUsersOfProperty,\n  inviteUser,\n  cancelInviteUser\n};\n\nfunction getProperties(){\n  return (\n    axios\n    .get(\n      apiEndpoint.properties,\n      {\n        headers: authHeader()\n      }\n    )\n    .then(res => {\n      if(res && res.status === 200){\n        return res.data;\n      }\n      return [];\n    })\n  );\n}\n\nfunction storeOrUpdateProperties(data, id = null){\n  return (id ? (\n    axios\n      .put(\n        apiEndpointFunction.properties(id),\n        data,\n        {\n          headers: authHeader(),\n        }\n      )\n  ) : (\n    axios\n      .post(\n        apiEndpoint.properties,\n        data,\n        {\n          headers: authHeader()\n        }\n      )\n  )).then(res => {\n    if(res && res.status === 200){\n      return res.data;\n    }\n    return {};\n  });\n}\n\nfunction viewProperty(id){\n  return (\n    axios\n      .get(\n        apiEndpointFunction.properties(id),\n        {\n          headers: authHeader(),\n        }\n      ).then(res => {\n        if(res && res.status === 200){\n          return res.data;\n        }\n        return {};\n      })\n  );\n}\n\nfunction getListUsersOfProperty(propertyId){\n  return (\n    axios\n      .get(\n        `${apiEndpoint.users}?property_id=${propertyId}`,\n        {\n          headers: authHeader(),\n        }\n      ).then(res => {\n        if(res && res.status === 200){\n          let users = res.data.users.map(user => {\n            return {\n              id: user.id,\n              name: user.name,\n              email: user.email,\n              mobile_phone: user.mobile_phone,\n              permission: user.more_info.permission,\n              status: user.more_info.status,\n            }\n          });\n\n          return {\n            users: users,\n            code: res.data.code,\n          };\n        }\n        return {};\n      })\n  );\n}\n\nfunction inviteUser(id, data){\n  return (\n    axios\n      .post(\n        `${apiEndpointFunction.properties(id)}/invite`,\n        data,\n        {\n          headers: authHeader(),\n        }\n      ).then(res => {\n        if(res && res.status === 200){\n          return res.data;\n        }\n        return {};\n      })\n  );\n}\n\nfunction cancelInviteUser(id, userId){\n  return (\n    axios\n      .get(\n        `${apiEndpointFunction.properties(id)}/cancel-invite`,\n        {\n          headers: authHeader(),\n          params: {\n            user_id: userId\n          }\n        }\n      ).then(res => {\n        if(res && res.status === 200){\n          return res.data;\n        }\n        return {};\n      })\n  );\n}"]},"metadata":{},"sourceType":"module"}