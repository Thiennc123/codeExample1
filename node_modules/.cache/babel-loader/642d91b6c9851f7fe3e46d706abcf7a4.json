{"ast":null,"code":"import \"antd/es/dropdown/style/css\";\nimport _Dropdown from \"antd/es/dropdown\";\nimport \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/menu/style/css\";\nimport _Menu from \"antd/es/menu\";\nvar _jsxFileName = \"/home/thiennc/projects/airagri-frontend/src/containers/Pages/Mob/Mob.js\";\nimport React, { useState, useEffect } from 'react';\nimport LayoutWrapper from '@iso/components/utility/layoutWrapper.js';\nimport Box from '@iso/components/utility/box';\nimport PageHeader from '@iso/components/utility/pageHeader';\nimport IntlMessages from '@iso/components/utility/intlMessages';\nimport { useSelector, useDispatch } from 'react-redux';\nimport SimpleTable from '@iso/components/Tables/SimpleTable';\nimport fakeData from '@iso/components/Tables/data';\nimport { configs } from '@iso/components/Tables/configs';\nimport MobManagePage from './Mob.styles';\nimport { PlusOutlined, DownOutlined, EditOutlined } from '@ant-design/icons';\nimport { mobService } from '@iso/services';\nimport modalActions from '@iso/redux/modal/actions';\nimport MobModal from './MobModal';\nimport _ from 'lodash';\nconst {\n  openModal\n} = modalActions;\n\nconst Mob = () => {\n  const dispatch = useDispatch();\n  const [mobs, setMobs] = useState({});\n  const activePropertyId = useSelector(state => state.property.activePropertyId);\n  useEffect(() => {}, [mobs]);\n  useEffect(() => {\n    if (activePropertyId) {\n      mobService.getList(activePropertyId).then(res => {\n        if (res.code === '0000') {\n          setMobs(res.mobs);\n        }\n      });\n    }\n  }, [activePropertyId]);\n\n  const handleMenuClick = (mob, e) => {\n    if (e.key === 'editDetails') {\n      showModal(mob);\n    }\n  };\n\n  const showModal = mob => {\n    const modalData = {\n      mob,\n      type: 'mob',\n      canCreate: true\n    };\n    dispatch(openModal(modalData));\n  };\n\n  const menu = mob => /*#__PURE__*/React.createElement(_Menu, {\n    onClick: handleMenuClick.bind(this, mob),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(_Menu.Item, {\n    key: \"editDetails\",\n    icon: /*#__PURE__*/React.createElement(EditOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 42\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"propertyPage.managePage.editDetails\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  })));\n\n  const onSaved = savedMob => {\n    let mobTmp = _.clone(mobs);\n\n    const mobIndex = _.findIndex(mobTmp, mob => {\n      return mob.id === savedMob.id;\n    });\n\n    if (mobIndex === -1) {\n      mobTmp.push(savedMob);\n    } else {\n      mobTmp[mobIndex] = savedMob;\n    }\n\n    setMobs(mobTmp);\n  };\n\n  const columns = [{\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"antTable.title.name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 14\n      }\n    }),\n    key: 'name',\n    width: 100,\n    render: mob => configs.renderCell(mob, 'TextCell', 'name')\n  }, {\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"antTable.title.type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 14\n      }\n    }),\n    key: 'type',\n    width: 100,\n    render: mob => configs.renderCell(mob, 'TextCell', 'type')\n  }, {\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"antTable.title.primary_object\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 14\n      }\n    }),\n    key: 'primary_object_id',\n    width: 100,\n    render: mob => configs.renderCell(mob, 'TextCell', 'primary_object_id')\n  }, {\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"antTable.title.tag_colour\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 14\n      }\n    }),\n    key: 'tag_colour',\n    width: 100,\n    render: mob => configs.renderCell(mob, 'TextCell', 'tag_colour')\n  }, {\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"antTable.title.tag_number_range\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 14\n      }\n    }),\n    key: 'tag_number_range',\n    width: 100,\n    render: mob => configs.renderCell(mob, 'TextCell', 'tag_number_range')\n  }, {\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"antTable.title.date_of_birth\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 14\n      }\n    }),\n    key: 'date_of_birth',\n    width: 100,\n    render: mob => configs.renderCell(mob, 'TextCell', 'date_of_birth')\n  }, {\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"antTable.title.breed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 14\n      }\n    }),\n    key: 'breed',\n    width: 100,\n    render: mob => configs.renderCell(mob, 'TextCell', 'breed')\n  }, {\n    title: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"antTable.title.actions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 14\n      }\n    }),\n    key: 'actions',\n    width: 100,\n    render: mob => {\n      return /*#__PURE__*/React.createElement(_Dropdown, {\n        overlay: menu(mob),\n        trigger: ['click'],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(_Button, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IntlMessages, {\n        id: \"propertyPage.managePage.edit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }\n      }), \" \", /*#__PURE__*/React.createElement(DownOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 66\n        }\n      })));\n    }\n  }];\n  return /*#__PURE__*/React.createElement(LayoutWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MobManagePage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"mobPage.managePage.header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 12\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"button-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    icon: /*#__PURE__*/React.createElement(PlusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 25\n      }\n    }),\n    type: \"primary\",\n    className: \"btn-success\",\n    onClick: showModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"mobPage.managePage.addMob\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, mobs.length > 0 && /*#__PURE__*/React.createElement(SimpleTable, {\n    columns: columns,\n    dataList: mobs ? new fakeData(mobs.length, mobs) : {},\n    pagination: {\n      pageSize: 50\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(MobModal, {\n    onSaved: onSaved,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Mob;","map":{"version":3,"sources":["/home/thiennc/projects/airagri-frontend/src/containers/Pages/Mob/Mob.js"],"names":["React","useState","useEffect","LayoutWrapper","Box","PageHeader","IntlMessages","useSelector","useDispatch","SimpleTable","fakeData","configs","MobManagePage","PlusOutlined","DownOutlined","EditOutlined","mobService","modalActions","MobModal","_","openModal","Mob","dispatch","mobs","setMobs","activePropertyId","state","property","getList","then","res","code","handleMenuClick","mob","e","key","showModal","modalData","type","canCreate","menu","bind","onSaved","savedMob","mobTmp","clone","mobIndex","findIndex","id","push","columns","title","width","render","renderCell","length","pageSize"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\nimport LayoutWrapper from '@iso/components/utility/layoutWrapper.js';\nimport Box from '@iso/components/utility/box';\nimport PageHeader from '@iso/components/utility/pageHeader';\nimport IntlMessages from '@iso/components/utility/intlMessages';\nimport { useSelector, useDispatch } from 'react-redux';\nimport SimpleTable from '@iso/components/Tables/SimpleTable';\nimport fakeData from '@iso/components/Tables/data';\nimport { configs } from '@iso/components/Tables/configs';\nimport { Button, Dropdown, Menu } from 'antd';\nimport MobManagePage from './Mob.styles';\nimport { PlusOutlined, DownOutlined, EditOutlined } from '@ant-design/icons';\nimport { mobService } from '@iso/services';\nimport modalActions from '@iso/redux/modal/actions';\nimport MobModal from './MobModal';\nimport _ from 'lodash';\n\nconst { openModal } = modalActions;\n\nconst Mob = () => {\n  const dispatch = useDispatch();\n  const [mobs, setMobs] = useState({});\n  const activePropertyId = useSelector((state) => state.property.activePropertyId);\n  \n  useEffect(() => {\n  }, [mobs]);\n\n  useEffect(() => {\n    if(activePropertyId){\n       mobService.getList(activePropertyId).then(res => {\n        if(res.code === '0000'){\n          setMobs(res.mobs);\n        }\n      });\n    }\n  }, [activePropertyId]);\n\n  \n  const handleMenuClick = (mob, e) => {\n    if(e.key === 'editDetails'){\n      showModal(mob);\n    }\n  }\n\n  const showModal = (mob) => {\n      const modalData = {\n        mob,\n        type: 'mob',\n        canCreate: true\n      }\n      dispatch(openModal(modalData));\n  }\n\n  const menu = (mob) => (\n    <Menu onClick={handleMenuClick.bind(this, mob)}>\n      <Menu.Item key=\"editDetails\" icon={<EditOutlined />}>\n        <IntlMessages id=\"propertyPage.managePage.editDetails\" />\n      </Menu.Item>\n    </Menu>\n  );\n\n  const onSaved = (savedMob) => {\n    let mobTmp = _.clone(mobs);\n    const mobIndex = _.findIndex(mobTmp, (mob) => {\n      return mob.id === savedMob.id\n    });\n    if(mobIndex === -1){\n      mobTmp.push(savedMob);\n    } else {\n      mobTmp[mobIndex] = savedMob;\n    }\n    setMobs(mobTmp);\n  }\n\n  const columns = [\n    {\n      title: <IntlMessages id=\"antTable.title.name\" />,\n      key: 'name',\n      width: 100,\n      render: mob => configs.renderCell(mob, 'TextCell', 'name'),\n    },\n    {\n      title: <IntlMessages id=\"antTable.title.type\" />,\n      key: 'type',\n      width: 100,\n      render: mob => configs.renderCell(mob, 'TextCell', 'type'),\n    },\n    {\n      title: <IntlMessages id=\"antTable.title.primary_object\" />,\n      key: 'primary_object_id',\n      width: 100,\n      render: mob => configs.renderCell(mob, 'TextCell', 'primary_object_id'),\n    },\n    {\n      title: <IntlMessages id=\"antTable.title.tag_colour\" />,\n      key: 'tag_colour',\n      width: 100,\n      render: mob => configs.renderCell(mob, 'TextCell', 'tag_colour'),\n    },\n    {\n      title: <IntlMessages id=\"antTable.title.tag_number_range\" />,\n      key: 'tag_number_range',\n      width: 100,\n      render: mob => configs.renderCell(mob, 'TextCell', 'tag_number_range'),\n    },\n    {\n      title: <IntlMessages id=\"antTable.title.date_of_birth\" />,\n      key: 'date_of_birth',\n      width: 100,\n      render: mob => configs.renderCell(mob, 'TextCell', 'date_of_birth'),\n    },\n    {\n      title: <IntlMessages id=\"antTable.title.breed\" />,\n      key: 'breed',\n      width: 100,\n      render: mob => configs.renderCell(mob, 'TextCell', 'breed'),\n    },\n    {\n      title: <IntlMessages id=\"antTable.title.actions\" />,\n      key: 'actions',\n      width: 100,\n      render: mob => {\n        return (\n          <Dropdown overlay={menu(mob)} trigger={['click']}>\n            <Button>\n              <IntlMessages id=\"propertyPage.managePage.edit\" /> <DownOutlined />\n            </Button>\n          </Dropdown>\n        );\n      },\n    },\n  ];\n\n  return (\n    <LayoutWrapper>\n      <MobManagePage>\n        <PageHeader>\n          {<IntlMessages id=\"mobPage.managePage.header\" />}\n        </PageHeader>\n        <div className=\"button-group\">\n          <Button icon={<PlusOutlined />} type=\"primary\" className=\"btn-success\" onClick={showModal}>\n            <IntlMessages id=\"mobPage.managePage.addMob\" />\n          </Button>\n        </div>\n        <Box>\n        {\n          mobs.length > 0 &&\n          <SimpleTable columns={columns} dataList={mobs ? new fakeData(mobs.length, mobs) : {} } pagination={{pageSize: 50}} />\n        }\n        </Box>\n        <MobModal onSaved={onSaved} />\n      </MobManagePage>\n    </LayoutWrapper>\n  );\n}\n\nexport default Mob;\n"]},"metadata":{},"sourceType":"module"}