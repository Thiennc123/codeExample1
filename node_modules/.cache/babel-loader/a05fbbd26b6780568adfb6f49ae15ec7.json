{"ast":null,"code":"import \"antd/es/button/style/css\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style/css\";\nimport _Input from \"antd/es/input\";\nimport \"antd/es/form/style/css\";\nimport _Form from \"antd/es/form\";\nvar _jsxFileName = \"/home/thiennc/projects/airagri-frontend/src/containers/Pages/SignIn/SignIn.js\";\nimport React from 'react';\nimport { Link, Redirect, useHistory, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport IntlMessages from '@iso/components/utility/intlMessages';\nimport authAction from '@iso/redux/auth/actions';\nimport appAction from '@iso/redux/app/actions';\nimport userAction from '@iso/redux/user/actions';\nimport SignInStyleWrapper from './SignIn.styles';\nimport { userService } from '@iso/services';\nimport Alert from '@iso/components/Feedback/Alert';\nimport logo from '@iso/assets/images/logo.png';\nconst {\n  login\n} = authAction;\nconst {\n  clearMenu\n} = appAction;\nconst {\n  store\n} = userAction;\nexport default function SignIn() {\n  let history = useHistory();\n  let location = useLocation();\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector(state => state.Auth.idToken);\n\n  const [form] = _Form.useForm();\n\n  const [errMsg, setErrMsg] = React.useState(\"\");\n\n  const onFinish = values => {\n    userService.login(values).then(res => {\n      if (res.code === '0000') {\n        dispatch(login(res.access_token));\n        dispatch(store());\n        dispatch(clearMenu());\n        history.push('/dashboard');\n      } else {\n        setErrMsg(res.message);\n      }\n    });\n  };\n\n  const [redirectToReferrer, setRedirectToReferrer] = React.useState(false);\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      setRedirectToReferrer(true);\n    }\n  }, [isLoggedIn]);\n  let {\n    from\n  } = location.state || {\n    from: {\n      pathname: '/dashboard'\n    }\n  };\n  const marginBot = {\n    marginBottom: '10px'\n  };\n\n  if (redirectToReferrer) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: from,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(SignInStyleWrapper, {\n    className: \"isoSignInPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoLoginContentWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoLoginContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoLogoWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    height: \"40\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }))), errMsg && /*#__PURE__*/React.createElement(Alert, {\n    message: errMsg,\n    type: \"error\",\n    style: marginBot,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoSignInForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(_Form, {\n    form: form,\n    name: \"register\",\n    onFinish: onFinish,\n    scrollToFirstError: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"email\",\n    className: \"isoInputWrapper\",\n    rules: [{\n      type: 'email',\n      message: 'The input is not valid Email!'\n    }, {\n      required: true,\n      message: 'Please input your Email!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    size: \"large\",\n    placeholder: \"Email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    name: \"password\",\n    className: \"isoInputWrapper\",\n    rules: [{\n      required: true,\n      message: 'Please input your Password!'\n    }, {\n      min: 6,\n      message: 'Password must be minimum 6 characters.'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Input, {\n    type: \"password\",\n    size: \"large\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(_Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(_Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"btn-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"page.signInButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoCenterComponent isoHelperWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/resendemail\",\n    className: \"isoForgotPass\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"page.signInResendEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"page.signInCreateAccount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  })))))));\n}","map":{"version":3,"sources":["/home/thiennc/projects/airagri-frontend/src/containers/Pages/SignIn/SignIn.js"],"names":["React","Link","Redirect","useHistory","useLocation","useSelector","useDispatch","IntlMessages","authAction","appAction","userAction","SignInStyleWrapper","userService","Alert","logo","login","clearMenu","store","SignIn","history","location","dispatch","isLoggedIn","state","Auth","idToken","form","useForm","errMsg","setErrMsg","useState","onFinish","values","then","res","code","access_token","push","message","redirectToReferrer","setRedirectToReferrer","useEffect","from","pathname","marginBot","marginBottom","type","required","min"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link, Redirect, useHistory, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport IntlMessages from '@iso/components/utility/intlMessages';\nimport authAction from '@iso/redux/auth/actions';\nimport appAction from '@iso/redux/app/actions';\nimport userAction from '@iso/redux/user/actions';\nimport SignInStyleWrapper from './SignIn.styles';\nimport { Form, Input, Button } from 'antd';\nimport { userService } from '@iso/services';\nimport Alert from '@iso/components/Feedback/Alert';\nimport logo from '@iso/assets/images/logo.png';\n\nconst { login } = authAction;\nconst { clearMenu } = appAction;\nconst { store } = userAction;\n\nexport default function SignIn() {\n  let history = useHistory();\n  let location = useLocation();\n  const dispatch = useDispatch();\n  const isLoggedIn = useSelector((state) => state.Auth.idToken);\n\n  const [form] = Form.useForm();\n  const [errMsg, setErrMsg] = React.useState(\"\");\n\n  const onFinish = (values) => {\n    userService.login(values).then(res => {\n      if(res.code === '0000'){\n        dispatch(login(res.access_token));\n        dispatch(store());\n        dispatch(clearMenu());\n        history.push('/dashboard');\n      } else {\n        setErrMsg(res.message);\n      }\n    });\n  };\n\n  const [redirectToReferrer, setRedirectToReferrer] = React.useState(false);\n  React.useEffect(() => {\n    if (isLoggedIn) {\n      setRedirectToReferrer(true);\n    }\n  }, [isLoggedIn]);\n\n  let { from } = location.state || { from: { pathname: '/dashboard' } };\n\n  const marginBot = {\n    marginBottom: '10px',\n  };\n\n  if (redirectToReferrer) {\n    return <Redirect to={from} />;\n  }\n  return (\n    <SignInStyleWrapper className=\"isoSignInPage\">\n      <div className=\"isoLoginContentWrapper\">\n        <div className=\"isoLoginContent\">\n          <div className=\"isoLogoWrapper\">\n            <Link to=\"/dashboard\">\n              <img src={logo} height=\"40\"/>\n            </Link>\n          </div>\n          {\n            errMsg && \n            <Alert\n              message={errMsg}\n              type=\"error\"\n              style={marginBot}\n            />\n          }\n          <div className=\"isoSignInForm\">\n            <Form\n              form={form}\n              name=\"register\"\n              onFinish={onFinish}\n              scrollToFirstError\n            >\n              <Form.Item\n                name=\"email\"\n                className=\"isoInputWrapper\"\n                rules={[\n                  {\n                    type: 'email',\n                    message: 'The input is not valid Email!',\n                  },\n                  {\n                    required: true,\n                    message: 'Please input your Email!',\n                  },\n                ]}\n              >\n                <Input size=\"large\" placeholder=\"Email\"/>\n              </Form.Item>\n              <Form.Item\n                name=\"password\"\n                className=\"isoInputWrapper\"\n                rules={[\n                  {\n                    required: true,\n                    message: 'Please input your Password!',\n                  },\n                  {\n                    min: 6,\n                    message: 'Password must be minimum 6 characters.'\n                  }\n                ]}\n              >\n                <Input type=\"password\" size=\"large\" placeholder=\"Password\"/>\n              </Form.Item>\n              \n              <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\" className=\"btn-success\">\n                  <IntlMessages id=\"page.signInButton\" />\n                </Button>\n              </Form.Item>\n            </Form>\n\n            <div className=\"isoCenterComponent isoHelperWrapper\">\n              <Link to=\"/resendemail\" className=\"isoForgotPass\">\n                <IntlMessages id=\"page.signInResendEmail\" />\n              </Link>\n              <Link to=\"/signup\">\n                <IntlMessages id=\"page.signInCreateAccount\" />\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </SignInStyleWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}